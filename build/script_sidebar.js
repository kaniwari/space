$(function(){function e(e){$(e).length>0&&$(e).find("a").each(function(e){$(this).text($(this).text().replaceAll("...","…").replaceAll("..","…"))})}function n(){""==g.val()?(u.addClass("empty"),m.attr("aria-disabled","true")):(u.removeClass("empty"),m.attr("aria-disabled","false"))}function t(){if(0==$(".link-module").hasClass("favicon-loaded")){var e=$(".link-module");e.addClass("favicon-loaded"),e.find("li").each(function(){function e(){n.find(".favicon").on("error",function(e){$(this).attr("src",t+"/favicon.ico")})}var n=$(this).find("a"),t=n.attr("href").replace("://",":--").split(/[/?#]/)[0].replace(":--","://").replace("http:","").replace("https:",""),a='<img class="favicon" style="display:none" src="link" alt="링크의 아이콘" width="16" height="16" aria-hidden="true">',i="https://cdn.jsdelivr.net/gh/kaniwari/space/favicon/";-1!=t.indexOf("blog.me")||-1!=t.indexOf("blog.naver.com")?(n.prepend(a.replace("link",i+"naver_blog.png")),e()):-1!=t.indexOf("band.us")?(n.prepend(a.replace("link",i+"naver_band.png")),e()):-1!=t.indexOf("cafe.naver.com")?(n.prepend(a.replace("link",i+"naver_cafe.png")),e()):-1!=t.indexOf("naver.com")?(n.prepend(a.replace("link",i+"naver.png")),e()):-1!=t.indexOf("cafe.daum.net")?(n.prepend(a.replace("link",i+"daum_cafe.png")),e()):-1!=t.indexOf("daum.net")?(n.prepend(a.replace("link",i+"daum.png")),e()):-1!=t.indexOf("egloos.com")?(n.prepend(a.replace("link",i+"egloos.png")),e()):-1!=t.indexOf("twitter.com")?(n.prepend(a.replace("link",i+"twitter.png")),e()):-1!=t.indexOf("facebook.com")?(n.prepend(a.replace("link",i+"facebook.png")),e()):-1!=t.indexOf("instagram.com")?(n.prepend(a.replace("link",i+"instagram.png")),e()):-1!=t.indexOf("tumblr.com")?(n.prepend(a.replace("link",i+"tumblr.png")),e()):-1!=t.indexOf("youtube.com")?(n.prepend(a.replace("link",i+"youtube.png")),e()):-1!=t.indexOf("dribbble.com")?(n.prepend(a.replace("link",i+"dribbble.png")),e()):-1!=t.indexOf("linkedin.com")?(n.prepend(a.replace("link",i+"linkedin.png")),e()):-1!=t.indexOf("pinterest")?(n.prepend(a.replace("link",i+"pinterest.png")),e()):-1!=t.indexOf("paddle.com")?(n.prepend(a.replace("link",i+"paddlecom.png")),e()):-1!=t.indexOf("github.com")?(n.prepend(a.replace("link",i+"github.png")),e()):-1!=t.indexOf("soundcloud.com")?(n.prepend(a.replace("link",i+"soundcloud.png")),e()):-1!=t.indexOf("brunch.co.kr")?(n.prepend(a.replace("link",i+"brunch.png")),e()):-1!=t.indexOf("britg.kr")?(n.prepend(a.replace("link",i+"britg.png")),e()):-1!=t.indexOf("bandcamp.com")?(n.prepend(a.replace("link",i+"bandcamp.png")),e()):-1!=t.indexOf("deviantart.com")?(n.prepend(a.replace("link",i+"deviantart.png")),e()):-1!=t.indexOf("pixiv.com")||-1!=t.indexOf("pixiv.jp")||-1!=t.indexOf("pixiv.net")?(n.prepend(a.replace("link",i+"pixiv.png")),e()):-1!=t.indexOf("story.kakao.com")?(n.prepend(a.replace("link",i+"kakaostory.png")),e()):-1!=t.indexOf("pf.kakao.com")?(n.prepend(a.replace("link",i+"kakaotalk_channel.png")),e()):-1!=t.indexOf("open.kakao.com")||-1!=t.indexOf("qr.kakao.com")||-1!=t.indexOf("kakaopay.com")?(n.prepend(a.replace("link",i+"talk.png")),e()):-1!=t.indexOf("fraccinospace.tistory.com")?(n.prepend(a.replace("link",i+"space.png")),e()):-1!=t.indexOf("fcnotebook.tistory.com")?(n.prepend(a.replace("link",i+"fcnote.png")),e()):n.prepend(a.replace("link",t+"/favicon.ico")),n.find(".favicon").on({error:function(e){$(this).remove(),n.addClass("no-favicon"),console.log("The favicon located at "+t+" cannot be found because there isn't a file. It will be shown as a default icon.")},load:function(e){$(this).show(),n.removeClass("icon")}})})}}function a(){1!=l.hasClass("fixed-sidebar")&&1!=l.hasClass("show-sidebar")&&1!=l.hasClass("show-blog-info")||t()}function i(){x=v.attr("data-blog-id"),_=v.attr("data-url"),y=v.attr("data-device"),k.attr({"data-blog-id":x,"data-url":_,"data-device":y}),1==v.hasClass("following")&&k.addClass("following").find(".txt_state").text("구독중")}function o(){C=O.clone(),$sidebarTistoryFunction.html(""),C.appendTo(".tistory-account"),$sidebarTistoryFunction.find("*").removeAttr("style"),$sidebarTistoryFunction.find("a").attr("role","button"),$sidebarTistoryFunction.find(".info_profile_type1").each(function(e){var n=$(this),t=n.find(".txt_id").text(),a=n.find(".link_edit"),i=n.find(".link_setting");a.attr("aria-label",t+"에 새 글 쓰기"),i.attr("aria-label",t+" 관리하기")})}var l=$("html"),r=window,c=$(window),d=$(".sidebar-inner"),s="";if($("head").append('<link rel="stylesheet" href="'+imagesURL+"style_sidebar.css"+fcver+'">'),$(".module").each(function(e){($(this).find("ul").length>0||$(this).find("ol").length>0)&&0==$(this).find("li").length&&$(this).remove()}),c.on("scroll",function(e){1==l.hasClass("fixed-sidebar")&&(s=d.scrollTop())>0&&(d.animate({scrollTop:0},400),r.setTimeout(function(e){d.stop()},500))}),e(".recent-module"),e(".recent-comments-module"),e(".notice-module"),e(".tags-module"),e(".link-module"),$(".menu-module").length>0){var p=$(".menu-module");p.has(".t_menu_medialog, .t_menu_location").length>0&&p.find(".t_menu_medialog, .t_menu_location").remove(),p.find("a").attr("role","button")}if($(".category-module").length>0){var f=$(".category-module");f.find(".category_list li:has('.sub_category_list')").each(function(e){var n=$(this);n.prepend('<button class="fc-icon fc-appearance category-toggle" aria-expanded="false"></button>');var t=n.children("a").text(),a=n.find(".category-toggle");if(n.find(".c_cnt").length>0){var i=n.children("a").find(".c_cnt").text();t=t.replace(i,""),a.text(t+"의 세부 카테고리")}else a.text(t+"의 세부 카테고리")}),f.find(".category-toggle").each(function(e){var n=$(this);n.on("click",function(e){e.preventDefault(),n.closest("li").toggleClass("closed open").find(".sub_category_list").slideToggle(200),1==n.closest("li").hasClass("open")?n.attr("aria-expanded","true"):n.attr("aria-expanded","false")})}),1==f.hasClass("close-sub-category")?f.find(".category_list li:has('.sub_category_list')").each(function(e){$(this).addClass("closed").find(".sub_category_list").hide()}):f.find(".category_list li:has('.sub_category_list')").each(function(e){var n=$(this);n.addClass("open").find(".sub_category_list").show(),n.find(".category-toggle").attr("aria-expanded","true")}),f.find(".link_sub_item").addClass("icon"),f.find("a").attr("role","button"),f.has(".c_cnt").length>0&&$(".c_cnt").attr("aria-hidden","true")}if($(".search-module").length>0){var u=$(".search-module"),g=u.find(".search-field"),m=u.find(".search-button");n(),g.on("keyup",function(e){n()}),$(".search-module:last-child").length>0&&$(".sidebar-contents").addClass("lastchild")}if($(".famous-module").length>0&&$(".recent-module").length<=0&&$(".famous-module").addClass("recent-module").removeClass("famous-module"),$(".link-module").length>0){var h,b=$(".open-sidebar, .blogger-toggle");a(),c.on("load",function(e){a()}),r.setTimeout(function(e){a()},1e3),h=setInterval(function(){1==l.hasClass("no-touch")?(b.on("mouseover",function(e){t()}),clearInterval(h)):(b.on("touchstart touchend",function(e){t()}),clearInterval(h))},100),c.on("resize",function(e){t()})}if($(".tt-mapsidebar-module").length>0&&$(".tt-mapsidebar-module").remove(),$(".menu_toolbar .btn_menu_toolbar.btn_subscription").length>0){if($(".fc-subscribe").length>0){var k=$(".fc-subscribe"),v=$(".menu_toolbar .btn_menu_toolbar.btn_subscription"),x=v.attr("data-blog-id"),_=v.attr("data-url"),y=v.attr("data-device");i(),c.on("load",function(e){i()}),r.setTimeout(function(e){i()},1e3)}}else $(".subscribe-module").length>0&&$(".enable-subscription").remove(),$(".ft-subscribe").length>0&&($(".ft-subscribe").remove(),$(".ft-left").html('<a class="fc-icon fc-circle fc-appearance ft-tistory" href="https://www.tistory.com" target="_blank" role="button">티스토리 홈</a>')),$(".export-content").length>0&&$(".export-content .subscribe-item").remove();if($(".tistory-account").length>0&&$(".btn_tool .header_layer").length>0){var O=$(".btn_tool .header_layer"),C=0;$sidebarTistoryFunction=$(".tistory-account"),o(),c.on("load",function(e){o()}),r.setTimeout(function(e){o()},1e3)}});